name: Deployment
on:
  push:
    branches:
      - development
jobs:
  get_diff:
    runs-on: ubuntu-latest
    steps:
      - name: Get code
        uses: actions/checkout@v3
      - name: Find changed files
        run: |
          MERGE_BASE=$(git merge-base origin/main HEAD)
          CHANGED_FILES=$(git diff --name-only $MERGE_BASE)
          echo "Changed files: $CHANGED_FILES"
        id: find-changed-files